#!/bin/bash
# PIXACLAW CLI Wrapper
# This wrapper allows PIXACLAW to be run from any directory

# Resolve the real installation directory (follow symlinks)
PIXACLAW_BIN="$0"

# Follow symlinks to find the real script location
while [ -L "$PIXACLAW_BIN" ]; do
    PIXACLAW_DIR="$(cd "$(dirname "$PIXACLAW_BIN")" && pwd)"
    PIXACLAW_BIN="$(readlink "$PIXACLAW_BIN")"
    # Handle relative symlinks
    [[ "$PIXACLAW_BIN" != /* ]] && PIXACLAW_BIN="$PIXACLAW_DIR/$PIXACLAW_BIN"
done

# Get the directory where this wrapper is located
PIXACLAW_DIR="$(cd "$(dirname "$PIXACLAW_BIN")" && pwd)"

# The actual installation is one directory up from bin/
export PIXACLAW_HOME="$(dirname "$PIXACLAW_DIR")"

# Execute the main script with all arguments
exec "$PIXACLAW_HOME/PIXACLAW.sh" "$@"
